<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>모래시계</title>
</head>
<body>
    <h2>모래시계</h2>
    <h3 id = 'time'>시간</h3>
    <p id = 'result'>결과</p>
    <script>
        var p = document.getElementById('result');
        var time = document.getElementById('time');
        
        var input = Number(prompt("시간을 입력하시오"));
        start(0);



        function start(counter) {
            if(counter < input)
                    setTimeout(function(){
                        counter++;
                        time.innerHTML = counter;
                        p.innerHTML = hourglassTime(counter);
                        start(counter);

                   },1000)
            }
        // 제귀함수를 사용함
        
/*
        function time(x) {
            setTimeout(function() {
                p.innerHTML = hourglassTime(x);
            },2000*x);
        }
   */     //연속으로 나오는게 어려워 지연시간을 변수로둬 1번지연 :3초 2번지연 6초 이런식으로 동시 실행하면 출력은 순처적으로됨

        function hourglassTime(j) {
            switch (j%4) {
            case 1 :
            console.log('----------');
            console.log(' -******- ');
            console.log('  -****-  ');
            console.log('   -**-   ');
            console.log('  -    -  ');
            console.log(' -      - ');
            console.log('----------');
            var hourglassResult =  
            '&nbsp----------<br>'+
            '&nbsp&nbsp-******-&nbsp<br>'+
            '&nbsp&nbsp&nbsp-****-&nbsp&nbsp<br>'+
            '&nbsp&nbsp&nbsp&nbsp-**-&nbsp&nbsp&nbsp<br>'+
            '&nbsp&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp-&nbsp&nbsp<br>'+
            '&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&nbsp<br>'+
            '&nbsp----------<br>';
            //로그모양을 hourglassResult로 문서에 입힘                 
            break;

            case 2 :
            console.log('----------');
            console.log(' -***   - ');
            console.log('  -****-  ');
            console.log('   -**-   ');
            console.log('  -  * -  ');
            console.log(' -    **- ');
            console.log('----------');
            var hourglassResult =
            '&nbsp----------<br>' +
            '&nbsp&nbsp-***&nbsp&nbsp&nbsp-&nbsp<br>' + 
            '&nbsp&nbsp&nbsp-****-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp&nbsp&nbsp-**-&nbsp&nbsp&nbsp<br>' + 
            '&nbsp&nbsp&nbsp-&nbsp&nbsp*&nbsp-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp**-&nbsp<br>' + 
            '&nbsp----------<br>';
            break;

            case 3 :
            console.log('----------');
            console.log(' -      - ');
            console.log('  -  **-  ');
            console.log('   - *-   ');
            console.log('  -  **-  ');
            console.log(' -******- ');
            console.log('----------');
            var hourglassResult =
            '&nbsp----------<br>' + 
            '&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&nbsp<br>' +
            '&nbsp&nbsp&nbsp-&nbsp&nbsp**-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp&nbsp&nbsp-&nbsp*-&nbsp&nbsp&nbsp<br>' +
            '&nbsp&nbsp&nbsp-&nbsp&nbsp**-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp-******-&nbsp<br>' + 
            '&nbsp----------<br>';
            
            break;
            
            case 0 :
            console.log('----------');
            console.log(' -      - ');
            console.log('  -    -  ');
            console.log('   -**-   ');
            console.log('  -****-  ');
            console.log(' -******- ');
            console.log('----------');
            var hourglassResult =
            '&nbsp----------<br>' + 
            '&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&nbsp<br>' +
            '&nbsp&nbsp&nbsp-&nbsp&nbsp&nbsp&nbsp-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp&nbsp&nbsp-**-&nbsp&nbsp&nbsp<br>' +
            '&nbsp&nbsp&nbsp-****-&nbsp&nbsp<br>' + 
            '&nbsp&nbsp-******-&nbsp<br>' + 
            '&nbsp----------<br>';

            //setTimeout(strat(),20000);
            break;
            
            }         
        return hourglassResult;
        }
        
        

        

    </script>
</body>
</html>